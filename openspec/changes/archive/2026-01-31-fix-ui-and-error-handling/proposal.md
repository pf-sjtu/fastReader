# 修复 UI 和错误处理问题

## 变更概述

继续修复审计报告中发现的 UI 和错误处理问题，提升用户体验和代码质量。

## 背景与动机

经过第一轮修复后，仍有以下关键问题需要解决：

### UI 问题
1. **响应式设计缺陷** - 固定宽度 `w-80 lg:w-96`，大屏浪费空间，移动端无法使用
2. **组件样式不一致** - MarkdownCard `gap-0` vs MindMapCard `gap-2`
3. **加载状态体验差** - 单进度条，无法取消长时间处理
4. **深色模式硬编码** - 滚动条颜色使用硬编码 oklch 值
5. **缺少空状态** - WebDAV 未配置、章节为空等情况无友好提示

### 错误处理问题
1. **错误处理方式混乱** - try-catch+toast、返回对象、直接抛出三种方式混用
2. **错误信息不统一** - 有的中文、有的英文，格式不一致
3. **缺少错误边界** - 组件崩溃时无友好提示

## 目标

1. 重构响应式布局，支持移动端
2. 统一错误处理机制
3. 提升加载状态体验
4. 修复深色模式样式
5. 添加空状态和错误状态组件

## 影响范围

| 文件 | 变更类型 | 影响 |
|------|----------|------|
| src/App.tsx | MODIFY | 布局重构为 Grid 系统 |
| src/index.css | MODIFY | 深色模式颜色使用 CSS 变量 |
| src/services/*.ts | MODIFY | 统一错误返回格式 |
| src/components/ui/ | ADD | 新增 EmptyState、ErrorState 组件 |

## 风险评估

| 风险 | 可能性 | 影响 | 缓解措施 |
|------|--------|------|----------|
| 布局调整影响现有用户 | 中 | 中 | 保持主要布局结构，渐进式调整 |
| 错误处理改动引发新问题 | 低 | 中 | 保留原有错误捕获，逐步迁移 |

## 验收标准

- [ ] 布局在 768px、1024px、1440px 屏幕下正常显示
- [ ] 所有服务使用统一的错误返回格式
- [ ] 长时间处理任务可取消
- [ ] 深色模式下滚动条颜色随主题变化
- [ ] WebDAV 未配置时显示空状态引导
